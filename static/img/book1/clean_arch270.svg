<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg
   version="1.1"
   id="svg2"
   width="816"
   height="1056"
   viewBox="0 0 816 1056"
   sodipodi:docname="clean_arch.pdf"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <defs
     id="defs6">
    <clipPath
       clipPathUnits="userSpaceOnUse"
       id="clipPath18">
      <path
         d="m 696,0 h 696 V 1056 H 696 V 0"
         clip-rule="evenodd"
         id="path16" />
    </clipPath>
    <clipPath
       clipPathUnits="userSpaceOnUse"
       id="clipPath28">
      <path
         d="m 696,66 h 696 V 996 H 696 V 66"
         clip-rule="evenodd"
         id="path26" />
    </clipPath>
  </defs>
  <sodipodi:namedview
     id="namedview4"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1" />
  <g
     id="g8"
     inkscape:groupmode="layer"
     inkscape:label="clean_arch"
     transform="translate(59.999999,2.64e-5)">
    <g
       id="g10" />
    <g
       id="g12"
       transform="translate(-696)">
      <g
         id="g14"
         clip-path="url(#clipPath18)">
        <g
           id="g20" />
      </g>
    </g>
    <g
       id="g22"
       transform="translate(-696)">
      <g
         id="g24"
         clip-path="url(#clipPath28)">
        <text
           xml:space="preserve"
           transform="translate(696,83)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text32"><tspan
             x="0 12 21 30 35 41 47 54 62 67 72 77 86 95 105 110 120 129 136 145 154 164 172 177 185 191 205 215 221 230 238 243 248 253 263 272 280 286 295 304 309 318 328 338 345 355 364 373 382 387 393 401 406 411 420 429 434 439 446 455 465 471 476 482 492 501 510 516 521 530 540 547 553 561 571 580 585 594 600 605 611 620 629 638 645 654"
             y="0"
             sodipodi:role="line"
             id="tspan30">The first, and perhaps simplest, design approach is the traditional horizontal layered</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(696,106)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text36"><tspan
             x="0 9 16 25 34 40 45 54 63 68 77 84 93 98 103 118 127 136 143 152 157 172 181 186 194 203 213 222 229 238 243 252 257 267 276 283 288 297 307 317 326 331 341 350 358 367 377 382 392 401 406 421 430 439 444 449 455 460 465 475 485 494 502 507 513 520 530 544 549 558 563 568 577 586 595 604 610 619 628"
             y="0"
             sodipodi:role="line"
             id="tspan34">architecture, where we separate our code based on what it does from a technical</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(696,129)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text40"><tspan
             x="0 10 19 26 34 44 53 62 67 73 83 92 97 102 114 123 129 137 142 148 156 161 171 177 182 191 200 205 214 223 229 235 244 254 259 268 278 287 296 305 314 323 332 337 347 356 361 367 376 385 394 400 405 414"
             y="0"
             sodipodi:role="line"
             id="tspan38">perspective. This is often called “package by layer.” </tspan></text>
        <text
           xml:space="preserve"
           transform="translate(1115,129)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#0000ee;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text44"><tspan
             x="0 11 17 26 35 42 51 56 66 76 81"
             y="0"
             sodipodi:role="line"
             id="tspan42">Figure 34.1</tspan></text>
        <path
           d="m 1115,130.5 h 90 z"
           style="fill:none;stroke:#0000ee;stroke-width:1;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:10;stroke-dasharray:none;stroke-opacity:1"
           id="path46" />
        <text
           xml:space="preserve"
           transform="translate(1211,129)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text50"><tspan
             x="0 8 17 27 42 50 55 70 79 88 93 98 103 112 118 126 131 145 151 160 169"
             y="0"
             sodipodi:role="line"
             id="tspan48">shows what this might</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(696,152)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text54"><tspan
             x="0 6 16 26 35 40 46 52 61 70 75 84 92 97 106 111 124 141 151 156 165 171 180 188 196 201 211 217 226 235 242 251 265"
             y="0"
             sodipodi:role="line"
             id="tspan52">look like as a UML class diagram.</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(696,195)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text58"><tspan
             x="0 6 15 20 25 34 40 48 53 58 67 77 83 92 101 107 112 118 127 136 145 152 161 171 176 185 192 201 210 216 221 230 239 244 253 260 269 274 279 294 303 308 317 326 336 345 350 360 369 378 383 389 398 407 416 423 428 434 444 451 456 461 470 479 484 499 508 518 523 532 542 552 561 566 571 581 590 599 604 610 619 628 637 644 649 655 665"
             y="0"
             sodipodi:role="line"
             id="tspan56">In this typical layered architecture, we have one layer for the web code, one layer for</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(696,218)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text62"><tspan
             x="0 10 19 26 31 40 50 59 67 73 82 91 99 107 112 118 128 137 143 152 157 166 171 180 189 199 204 214 223 232 237 243 252 261 270 277 282 288 298 305 310 320 329 336 344 350 358 363 372 381 390 399 404 409 415 424 429 439 444 453 462 469 474 489 499 506 516 524 529 534 543 553 563 572 577 583 591 596 604 610 616 625 634"
             y="0"
             sodipodi:role="line"
             id="tspan60">our “business logic,” and one layer for persistence. In other words, code is sliced</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(696,241)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text66"><tspan
             x="0 9 19 26 32 40 50 59 64 73 79 85 94 99 105 114 119 129 134 140 149 158 167 174 182 187 192 207 216 222 231 240 245 254 261 270 275 284 292 301 311 316 325 333 338 347 352 367 376 385 390 395 405 410 419 426 436 445 455 460 468 474 488 494 500 509 516 521 526 535 545 554 562 567 577 583 588 593 602 608 617 626 634 639 644 650 659 664"
             y="0"
             sodipodi:role="line"
             id="tspan64">horizontally into layers, which are used as a way to group similar types of things. In a</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(696,264)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text70"><tspan
             x="0 9 17 22 29 35 44 49 54 60 69 78 87 94 103 113 118 127 134 143 152 158 163 172 181 186 195 202 211 216 225 230 236 245 254 263 270 278 283 291 300 310 319 325 335 340 350 359 369 378 387 397 402 412 421 427 436 441 451 460 465 470 479 488 493 502 511 520 525 530 539 549 555 564 573 582 591 596 601 607 617 632 641"
             y="0"
             sodipodi:role="line"
             id="tspan68">“strict layered architecture,” layers should depend only on the next adjacent lower</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(696,287)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text74"><tspan
             x="0 6 15 24 33 39 44 49 55 64 69 77 86 96 105 110 115 121 130 139 148 155 163 168 177 184 193 198 203 212 222 228 237 246 252 258 267 272 278 292 302 308 317 331 340 349 354 363 373 378 387 395 400 410 419 428 437 446 455 464 472 477 482 496 504 509 518 528 537 542 551 560 569 574 582 591 600 605 611 620"
             y="0"
             sodipodi:role="line"
             id="tspan72">layer. In Java, layers are typically implemented as packages. As you can see in </tspan></text>
        <text
           xml:space="preserve"
           transform="translate(1321,287)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#0000ee;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text78"><tspan
             x="0 11 17 26 35 42"
             y="0"
             sodipodi:role="line"
             id="tspan76">Figure</tspan></text>
        <path
           d="m 1321,288.5 h 50 z"
           style="fill:none;stroke:#0000ee;stroke-width:1;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:10;stroke-dasharray:none;stroke-opacity:1"
           id="path80" />
        <text
           xml:space="preserve"
           transform="translate(696,310)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#0000ee;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text84"><tspan
             x="0 10 20 25"
             y="0"
             sodipodi:role="line"
             id="tspan82">34.1</tspan></text>
        <path
           d="m 696,311.5 h 34 z"
           style="fill:none;stroke:#0000ee;stroke-width:1;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:10;stroke-dasharray:none;stroke-opacity:1"
           id="path86" />
        <text
           xml:space="preserve"
           transform="translate(731,310)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text90"><tspan
             x="0 5 10 19 25 31 36 46 52 57 62 71 80 85 95 104 114 123 132 142 151 160 169 175 184 192 197 207 216 221 236 245 254 263 268 274 283 292 301 308 316 321 328 338 347 356 365 374 383 392 400 407 412 422 432 438 447 452 457 467 477 492 501 516 525 532 542 547 552 558 567 572 577 586 592"
             y="0"
             sodipodi:role="line"
             id="tspan88">, all of the dependencies between layers (packages) point downward. In this</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(696,333)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text94"><tspan
             x="0 9 18 27 41 51 57 66 71 76 91 100 105 114 123 133 142 147 152 161 170 175 181 191 197 203 213 228 234 243 252 257 265 274 284 293 298 303 312 322 331 339"
             y="0"
             sodipodi:role="line"
             id="tspan92">example, we have the following Java types:</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(697,376)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text98"><tspan
             x="0 7"
             y="0"
             sodipodi:role="line"
             id="tspan96">• </tspan></text>
        <text
           xml:space="preserve"
           transform="translate(709,376)"
           style="font-variant:normal;font-weight:normal;font-size:16px;font-family:'Courier New';-inkscape-font-specification:CourierNewPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text102"><tspan
             x="0 10 20 30 40 50 60 70 80 90 100 110 120 130 140 150"
             y="0"
             sodipodi:role="line"
             id="tspan100">OrdersController</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(869,376)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text106"><tspan
             x="0 6 11 24 29 44 53 63 68 77 87 96 101 108 118 124 130 139 145 150 155 163 173 187 196 201 210 216 225 234 239 245 251 260 269 274 283 288 299 309 316 322 331 340 345 362 375 388 393 402 412 421 426 433 443 449 455 464 470 475 480 485 494 503"
             y="0"
             sodipodi:role="line"
             id="tspan104">: A web controller, something like a Spring MVC controller, that</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(709,399)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text110"><tspan
             x="0 9 18 27 37 43 52 60 65 72 81 91 100 109 117 122 130 135 141 148 158 172 177 182 191 200 205 220 229 239"
             y="0"
             sodipodi:role="line"
             id="tspan108">handles requests from the web.</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(697,427)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text114"><tspan
             x="0 7"
             y="0"
             sodipodi:role="line"
             id="tspan112">• </tspan></text>
        <text
           xml:space="preserve"
           transform="translate(709,427)"
           style="font-variant:normal;font-weight:normal;font-size:16px;font-family:'Courier New';-inkscape-font-specification:CourierNewPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text118"><tspan
             x="0 10 20 30 40 50 60 70 80 90 100 110 120"
             y="0"
             sodipodi:role="line"
             id="tspan116">OrdersService</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(839,427)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text122"><tspan
             x="0 6 11 25 34 39 45 54 59 68 75 81 90 99 108 113 118 127 136 141 146 156 165 171 177 186 195 203 208 213 222 231 236 245 255 264 272 278 287 296 304 312 317 323 333 342 348 357 366 371 378 387 393 402 407 416 426 431 436 446 451 461 468 478 487 494 502"
             y="0"
             sodipodi:role="line"
             id="tspan120">: An interface that defines the “business logic” related to orders.</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(697,459)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text126"><tspan
             x="0 7"
             y="0"
             sodipodi:role="line"
             id="tspan124">• </tspan></text>
        <text
           xml:space="preserve"
           transform="translate(709,459)"
           style="font-variant:normal;font-weight:normal;font-size:16px;font-family:'Courier New';-inkscape-font-specification:CourierNewPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text130"><tspan
             x="0 10 20 30 40 50 60 70 80 90 100 110 120 130 140 150 160"
             y="0"
             sodipodi:role="line"
             id="tspan128">OrdersServiceImpl</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(879,459)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text134"><tspan
             x="0 6 11 23 32 41 46 52 66 76 82 91 105 114 123 128 137 142 148 158 167 172 182 188 193 198 207 216 221 231 238 248 257 264 272 277 285 294 301 311 317 326 335"
             y="0"
             sodipodi:role="line"
             id="tspan132">: The implementation of the orders service.</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(1219,452)"
           style="font-variant:normal;font-weight:normal;font-size:15px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#0000ee;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text138"><tspan
             x="0"
             y="0"
             id="tspan136">1</tspan></text>
        <path
           d="m 1219,453.5 h 6 z"
           style="fill:none;stroke:#0000ee;stroke-width:1;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:10;stroke-dasharray:none;stroke-opacity:1"
           id="path140" />
        <text
           xml:space="preserve"
           transform="translate(697,487)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text144"><tspan
             x="0 7"
             y="0"
             sodipodi:role="line"
             id="tspan142">• </tspan></text>
        <text
           xml:space="preserve"
           transform="translate(709,487)"
           style="font-variant:normal;font-weight:normal;font-size:16px;font-family:'Courier New';-inkscape-font-specification:CourierNewPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text148"><tspan
             x="0 10 20 30 40 50 60 70 80 90 100 110 120 130 140 150"
             y="0"
             sodipodi:role="line"
             id="tspan146">OrdersRepository</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(869,487)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text152"><tspan
             x="0 6 11 25 34 39 45 54 59 68 75 81 90 99 108 113 118 127 136 141 146 156 165 171 177 186 195 203 208 217 227 242 247 262 271 276 285 294 299 304 313 322 331 340 348 356 361 366 376 381 391 400 407 415 421 429 434 443 452 457 462 472 479 489 498"
             y="0"
             sodipodi:role="line"
             id="tspan150">: An interface that defines how we get access to persistent order</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(709,510)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text156"><tspan
             x="0 6 15 21 31 38 52 61 66 72 82 91"
             y="0"
             sodipodi:role="line"
             id="tspan154">information.</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(697,538)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text160"><tspan
             x="0 7"
             y="0"
             sodipodi:role="line"
             id="tspan158">• </tspan></text>
        <text
           xml:space="preserve"
           transform="translate(709,538)"
           style="font-variant:normal;font-weight:normal;font-size:16px;font-family:'Courier New';-inkscape-font-specification:CourierNewPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text164"><tspan
             x="0 10 20 30 40 50 60 70 80 90 100 110 120 130 140 150 160 170 180 190"
             y="0"
             sodipodi:role="line"
             id="tspan162">JdbcOrdersRepository</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(909,538)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text168"><tspan
             x="0 6 11 25 34 39 45 59 69 75 84 98 107 116 121 130 135 141 151 160 165 175 181 186 191 200 209 214 221 230 240 250 258 264 269 279 286 295 300 306 315 320 329 336 342 351 360 369"
             y="0"
             sodipodi:role="line"
             id="tspan166">: An implementation of the repository interface.</tspan></text>
      </g>
    </g>
  </g>
</svg>
