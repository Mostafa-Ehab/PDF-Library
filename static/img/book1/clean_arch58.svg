<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg
   version="1.1"
   id="svg2"
   width="816"
   height="1056"
   viewBox="0 0 816 1056"
   sodipodi:docname="clean_arch.pdf"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <defs
     id="defs6">
    <clipPath
       clipPathUnits="userSpaceOnUse"
       id="clipPath18">
      <path
         d="m 4176,0 h 696 V 1056 H 4176 V 0"
         clip-rule="evenodd"
         id="path16" />
    </clipPath>
    <clipPath
       clipPathUnits="userSpaceOnUse"
       id="clipPath28">
      <path
         d="m 4176,66 h 696 V 996 H 4176 V 66"
         clip-rule="evenodd"
         id="path26" />
    </clipPath>
  </defs>
  <sodipodi:namedview
     id="namedview4"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1" />
  <g
     id="g8"
     inkscape:groupmode="layer"
     inkscape:label="clean_arch"
     transform="translate(59.999999,2.64e-5)">
    <g
       id="g10" />
    <g
       id="g12"
       transform="translate(-4176)">
      <g
         id="g14"
         clip-path="url(#clipPath18)">
        <g
           id="g20" />
      </g>
    </g>
    <g
       id="g22"
       transform="translate(-4176)">
      <g
         id="g24"
         clip-path="url(#clipPath28)">
        <text
           xml:space="preserve"
           transform="translate(4176,82.67188)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text32"><tspan
             x="0 9 18 27 36 41 51 60 70 76 85 94 99 104 118 124 129 138 148 157 164 172 181 186 191 196 205 214 221 230 235 244 251 260 265 274 284 289 295 304 309 318 325 331 340 349 358 366 371 377 386 391 396 405 414 419 428 437 446 460 470 476 485 490 503 508 518 525 535 544 551 560 574 594 602 612 617 626 636 651 656 666 676 685"
             y="0"
             sodipodi:role="line"
             id="tspan30">each device. Of course, there are no interfaces in the example C program—so how does</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4176,105.6719)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text36"><tspan
             x="0 5 14 23 28 37 46 52 58 63 68 78"
             y="0"
             sodipodi:role="line"
             id="tspan34">the call to </tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4259,105.6719)"
           style="font-variant:normal;font-weight:normal;font-size:16px;font-family:'Courier New';-inkscape-font-specification:CourierNewPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text40"><tspan
             x="0 10 20 30 40 50 60 70 80"
             y="0"
             sodipodi:role="line"
             id="tspan38">getchar()</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4354,105.6719)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text44"><tspan
             x="0 9 18 23 32 41 47 53 62 67 76 85 90 95 105 114 120 126 136 145 152 161 171 176 181 191 196 201 210 219 224 234 243 253 259 268 277 282 292 299 305 315 324 331 336 341 350 359 364 369 376 385 394 404 412 417 422 431"
             y="0"
             sodipodi:role="line"
             id="tspan42">actually get delivered to the device driver that reads the</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4176,129)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text48"><tspan
             x="0 9 18 27 34 43 52 57 66 73"
             y="0"
             sodipodi:role="line"
             id="tspan46">character?</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4176,172)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text52"><tspan
             x="0 12 21 30 35 44 53 61 76 85 92 97 102 112 117 122 131 140 145 150 160 169 178 186 191 197 207 216 221 227 235 240 250 257 266 271 276 285 290 298 303 310 319 325 334 343 348 354 364 371 386 395 402 412 417 422 434 443 452 457 470 484 490 504 509 519 529 538 545 554 559 565 574 583 588 596 605 613 618 627"
             y="0"
             sodipodi:role="line"
             id="tspan50">The answer to that question is pretty straightforward. The UNIX operating system</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4176,198)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text56"><tspan
             x="0 7 16 26 35 41 48 57 65 70 75 84 93 98 103 112 122 131 138 147 152 158 172 177 187 196 206 212 221 230 235 245 252 258 268 277 284 289 299 306 316 326 332 342 351 356 362 368 378 387 392 400 405 414 423 433 442 449 459 464 470 479 488 497 502 508 518 527 535"
             y="0"
             sodipodi:role="line"
             id="tspan54">requires that every IO device driver provide five standard functions:</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4717,191)"
           style="font-variant:normal;font-weight:normal;font-size:15px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#0000ee;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text60"><tspan
             x="0"
             y="0"
             id="tspan58">5</tspan></text>
        <path
           d="m 4717,192.5 h 6 z"
           style="fill:none;stroke:#0000ee;stroke-width:1;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:10;stroke-dasharray:none;stroke-opacity:1"
           id="path62" />
        <text
           xml:space="preserve"
           transform="translate(4729,198)"
           style="font-variant:normal;font-weight:normal;font-size:16px;font-family:'Courier New';-inkscape-font-specification:CourierNewPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text66"><tspan
             x="0 10 20 30"
             y="0"
             sodipodi:role="line"
             id="tspan64">open</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4769,198)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text70"><tspan
             x="0 5"
             y="0"
             sodipodi:role="line"
             id="tspan68">, </tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4779,198)"
           style="font-variant:normal;font-weight:normal;font-size:16px;font-family:'Courier New';-inkscape-font-specification:CourierNewPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text74"><tspan
             x="0 10 20 30 40"
             y="0"
             sodipodi:role="line"
             id="tspan72">close</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4829,198)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text78"><tspan
             x="0"
             y="0"
             id="tspan76">,</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4176,221)"
           style="font-variant:normal;font-weight:normal;font-size:16px;font-family:'Courier New';-inkscape-font-specification:CourierNewPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text82"><tspan
             x="0 10 20 30"
             y="0"
             sodipodi:role="line"
             id="tspan80">read</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4216,221)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text86"><tspan
             x="0 5"
             y="0"
             sodipodi:role="line"
             id="tspan84">, </tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4226,221)"
           style="font-variant:normal;font-weight:normal;font-size:16px;font-family:'Courier New';-inkscape-font-specification:CourierNewPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text90"><tspan
             x="0 10 20 30 40"
             y="0"
             sodipodi:role="line"
             id="tspan88">write</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4276,221)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text94"><tspan
             x="0 5 10 19 28 38"
             y="0"
             sodipodi:role="line"
             id="tspan92">, and </tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4319,221)"
           style="font-variant:normal;font-weight:normal;font-size:16px;font-family:'Courier New';-inkscape-font-specification:CourierNewPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text98"><tspan
             x="0 10 20 30"
             y="0"
             sodipodi:role="line"
             id="tspan96">seek</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4359,221)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text102"><tspan
             x="0 5 10 22 31 40 45 53 59 68 77 86 91 100 107 116 124 129 139 145 150 155 164 174 182 191 196 202 211 220 229 234 240 250 259 267 272 286 295 303 308 313 323 332 337 343 353 362 371 376 382 391 400 406 411 417 427 434 439 448 458 467 474 483 488 494"
             y="0"
             sodipodi:role="line"
             id="tspan100">. The signatures of those functions must be identical for every IO</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4176,244)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text106"><tspan
             x="0 10 17 23 33 42 48"
             y="0"
             sodipodi:role="line"
             id="tspan104">driver.</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4176,287)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text110"><tspan
             x="0 12 21 30"
             y="0"
             sodipodi:role="line"
             id="tspan108">The </tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4211,287)"
           style="font-variant:normal;font-weight:normal;font-size:16px;font-family:'Courier New';-inkscape-font-specification:CourierNewPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text114"><tspan
             x="0 10 20 30"
             y="0"
             sodipodi:role="line"
             id="tspan112">FILE</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4256,287)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text118"><tspan
             x="0 10 19 24 33 38 46 51 58 67 76 81 90 97 106 111 120 130 139 144 153 159 168 176 181 187 193 203 212 217 227 237 243 252 257 266 273 281 286 291 301 306 312 321 330 339 344 350 360 369 377 382 387 393 402 407 417 426 433 438 447 456 465 479 489 495 504 509 514 520 525 530 544 550 559 568 573 578 584 594 604"
             y="0"
             sodipodi:role="line"
             id="tspan116">data structure contains five pointers to functions. In our example, it might look</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4176,310)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text122"><tspan
             x="0 6 12 21 30 35 40 49 55 63"
             y="0"
             sodipodi:role="line"
             id="tspan120">like this:</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4176,350)"
           style="font-variant:normal;font-weight:bold;font-size:15px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPS-BoldMT;writing-mode:lr-tb;fill:#0000ee;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text126"><tspan
             x="0 11 15 19 26 35 39 47 55 61 69 73 78 86 90 98 102 110 120 124 131 139 147 155 159 163 175 182 190"
             y="0"
             sodipodi:role="line"
             id="tspan124">Click here to view code image</tspan></text>
        <path
           d="m 4176,351.5 h 197 z"
           style="fill:none;stroke:#0000ee;stroke-width:1;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:10;stroke-dasharray:none;stroke-opacity:1"
           id="path128" />
        <text
           xml:space="preserve"
           transform="translate(4177,389.5)"
           style="font-variant:normal;font-weight:normal;font-size:15px;font-family:'Courier New';-inkscape-font-specification:CourierNewPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text132"><tspan
             x="0 9 18 27 36 45 54 63 72 81 90 99 108"
             y="0"
             sodipodi:role="line"
             id="tspan130">struct FILE {</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4195,406.5)"
           style="font-variant:normal;font-weight:normal;font-size:15px;font-family:'Courier New';-inkscape-font-specification:CourierNewPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text136"><tspan
             x="0 9 18 27 36 45 54 63 72 81 90 99 108 117 126 135 144 153 162 171 180 189 198 207 216 225 234 243 252 261 270 279 288 297 306"
             y="0"
             sodipodi:role="line"
             id="tspan134">void (*open)(char* name, int mode);</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4195,423.5)"
           style="font-variant:normal;font-weight:normal;font-size:15px;font-family:'Courier New';-inkscape-font-specification:CourierNewPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text140"><tspan
             x="0 9 18 27 36 45 54 63 72 81 90 99 108 117 126 135"
             y="0"
             sodipodi:role="line"
             id="tspan138">void (*close)();</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4195,440.5)"
           style="font-variant:normal;font-weight:normal;font-size:15px;font-family:'Courier New';-inkscape-font-specification:CourierNewPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text144"><tspan
             x="0 9 18 27 36 45 54 63 72 81 90 99 108 117"
             y="0"
             sodipodi:role="line"
             id="tspan142">int (*read)();</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4195,457.5)"
           style="font-variant:normal;font-weight:normal;font-size:15px;font-family:'Courier New';-inkscape-font-specification:CourierNewPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text148"><tspan
             x="0 9 18 27 36 45 54 63 72 81 90 99 108 117 126 135 144 153 162 171"
             y="0"
             sodipodi:role="line"
             id="tspan146">void (*write)(char);</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4195,474.5)"
           style="font-variant:normal;font-weight:normal;font-size:15px;font-family:'Courier New';-inkscape-font-specification:CourierNewPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text152"><tspan
             x="0 9 18 27 36 45 54 63 72 81 90 99 108 117 126 135 144 153 162 171 180 189 198 207 216 225 234 243 252 261 270 279 288 297 306"
             y="0"
             sodipodi:role="line"
             id="tspan150">void (*seek)(long index, int mode);</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4177,492)"
           style="font-variant:normal;font-weight:normal;font-size:15px;font-family:'Courier New';-inkscape-font-specification:CourierNewPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text156"><tspan
             x="0 9"
             y="0"
             sodipodi:role="line"
             id="tspan154">};</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4176,540)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text160"><tspan
             x="0 12 21 30 35 41 55 60 70 77 83 93 102 109 114 120 130 137 142 147 156 165 170 179 189 198 206 216 222 231 236 251 257 263 269 274 284 293 299 305 314 323 328 333 342 352 360 369 374 380 389 398 407 412 418 428 437 445 450 459 468 478 483 489 499 508 518 523 532 542 547 556"
             y="0"
             sodipodi:role="line"
             id="tspan158">The IO driver for the console will define those functions and load up a </tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4737,540)"
           style="font-variant:normal;font-weight:normal;font-size:16px;font-family:'Courier New';-inkscape-font-specification:CourierNewPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text164"><tspan
             x="0 10 20 30"
             y="0"
             sodipodi:role="line"
             id="tspan162">FILE</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4782,540)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text168"><tspan
             x="0 10 19 24"
             y="0"
             sodipodi:role="line"
             id="tspan166">data</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4176,563)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text172"><tspan
             x="0 8 13 20 29 38 43 52 59 68 73 88 94 99 108 113 118 127 136 142 149 154 163 173 183 190 199 207 215 224 232 252 260 270 284 293 298 307 313 322 331 336 342 348 357 366 371 376 385 391 399"
             y="0"
             sodipodi:role="line"
             id="tspan170">structure with their addresses—something like this:</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4176,603)"
           style="font-variant:normal;font-weight:bold;font-size:15px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPS-BoldMT;writing-mode:lr-tb;fill:#0000ee;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text176"><tspan
             x="0 11 15 19 26 35 39 47 55 61 69 73 78 86 90 98 102 110 120 124 131 139 147 155 159 163 175 182 190"
             y="0"
             sodipodi:role="line"
             id="tspan174">Click here to view code image</tspan></text>
        <path
           d="m 4176,604.5 h 197 z"
           style="fill:none;stroke:#0000ee;stroke-width:1;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:10;stroke-dasharray:none;stroke-opacity:1"
           id="path178" />
        <text
           xml:space="preserve"
           transform="translate(4177,642.5)"
           style="font-variant:normal;font-weight:normal;font-size:15px;font-family:'Courier New';-inkscape-font-specification:CourierNewPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text182"><tspan
             x="0 9 18 27 36 45 54 63 72 81 90 99 108 117 126 135 144"
             y="0"
             sodipodi:role="line"
             id="tspan180">#include &quot;file.h&quot;</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4177,676.5)"
           style="font-variant:normal;font-weight:normal;font-size:15px;font-family:'Courier New';-inkscape-font-specification:CourierNewPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text186"><tspan
             x="0 9 18 27 36 45 54 63 72 81 90 99 108 117 126 135 144 153 162 171 180 189 198 207 216 225 234 243 252 261 270 279 288 297 306 315 324 333 342 351 360"
             y="0"
             sodipodi:role="line"
             id="tspan184">void open(char* name, int mode) {/*...*/}</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4177,693.5)"
           style="font-variant:normal;font-weight:normal;font-size:15px;font-family:'Courier New';-inkscape-font-specification:CourierNewPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text190"><tspan
             x="0 9 18 27 36 45 54 63 72 81 90 99 108 117 126 135 144 153 162 171 180 189 198"
             y="0"
             sodipodi:role="line"
             id="tspan188">void close() {/*...*/};</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4177,710.5)"
           style="font-variant:normal;font-weight:normal;font-size:15px;font-family:'Courier New';-inkscape-font-specification:CourierNewPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text194"><tspan
             x="0 9 18 27 36 45 54 63 72 81 90 99 108 117 126 135 144 153 162 171 180 189 198 207 216 225 234 243 252 261 270 279 288 297 306 315"
             y="0"
             sodipodi:role="line"
             id="tspan192">int read() {int c;/*...*/ return c;}</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4177,727.5)"
           style="font-variant:normal;font-weight:normal;font-size:15px;font-family:'Courier New';-inkscape-font-specification:CourierNewPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text198"><tspan
             x="0 9 18 27 36 45 54 63 72 81 90 99 108 117 126 135 144 153 162 171 180 189 198 207 216 225 234 243"
             y="0"
             sodipodi:role="line"
             id="tspan196">void write(char c) {/*...*/}</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4177,744.5)"
           style="font-variant:normal;font-weight:normal;font-size:15px;font-family:'Courier New';-inkscape-font-specification:CourierNewPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text202"><tspan
             x="0 9 18 27 36 45 54 63 72 81 90 99 108 117 126 135 144 153 162 171 180 189 198 207 216 225 234 243 252 261 270 279 288 297 306 315 324 333 342 351 360"
             y="0"
             sodipodi:role="line"
             id="tspan200">void seek(long index, int mode) {/*...*/}</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4177,779)"
           style="font-variant:normal;font-weight:normal;font-size:15px;font-family:'Courier New';-inkscape-font-specification:CourierNewPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text206"><tspan
             x="0 9 18 27 36 45 54 63 72 81 90 99 108 117 126 135 144 153 162 171 180 189 198 207 216 225 234 243 252 261 270 279 288 297 306 315 324 333 342 351 360 369 378 387 396 405 414 423 432 441 450 459 468 477 486"
             y="0"
             sodipodi:role="line"
             id="tspan204">struct FILE console = {open, close, read, write, seek};</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4176,827)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text210"><tspan
             x="0 14 24 39 44 50 56"
             y="0"
             sodipodi:role="line"
             id="tspan208">Now if </tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4237,827)"
           style="font-variant:normal;font-weight:normal;font-size:16px;font-family:'Courier New';-inkscape-font-specification:CourierNewPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text214"><tspan
             x="0 10 20 30 40"
             y="0"
             sodipodi:role="line"
             id="tspan212">STDIN</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4292,827)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text218"><tspan
             x="0 6 14 19 29 38 44 50 59 68 78 83 92 100 105 114"
             y="0"
             sodipodi:role="line"
             id="tspan216">is defined as a </tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4411,827)"
           style="font-variant:normal;font-weight:normal;font-size:16px;font-family:'Courier New';-inkscape-font-specification:CourierNewPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text222"><tspan
             x="0 10 20 30 40"
             y="0"
             sodipodi:role="line"
             id="tspan220">FILE*</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4461,827)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text226"><tspan
             x="0 5 10 19 28 38 43 49 55 60 66 71 76 86 96 102 111 116 124 129 134 144 149 154 163 172 177 186 196 205 213 223 229 238 243 253 262 267 276 281 289 294 301 310 319 324 333 340 349 354 359 364 373 382"
             y="0"
             sodipodi:role="line"
             id="tspan224">, and if it points to the console data structure, then</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4176,850)"
           style="font-variant:normal;font-weight:normal;font-size:16px;font-family:'Courier New';-inkscape-font-specification:CourierNewPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text230"><tspan
             x="0 10 20 30 40 50 60 70 80"
             y="0"
             sodipodi:role="line"
             id="tspan228">getchar()</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4271,850)"
           style="font-variant:normal;font-weight:normal;font-size:20px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text234"><tspan
             x="0 14 20 29 38 43 48 58 67 72 78 92 102 108 117 131 140 149 154 163 173 178 183 192 198 206 211 226 235 244"
             y="0"
             sodipodi:role="line"
             id="tspan232">might be implemented this way:</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4176,890)"
           style="font-variant:normal;font-weight:bold;font-size:15px;font-family:'Times New Roman';-inkscape-font-specification:TimesNewRomanPS-BoldMT;writing-mode:lr-tb;fill:#0000ee;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text238"><tspan
             x="0 11 15 19 26 35 39 47 55 61 69 73 78 86 90 98 102 110 120 124 131 139 147 155 159 163 175 182 190"
             y="0"
             sodipodi:role="line"
             id="tspan236">Click here to view code image</tspan></text>
        <path
           d="m 4176,891.5 h 197 z"
           style="fill:none;stroke:#0000ee;stroke-width:1;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:10;stroke-dasharray:none;stroke-opacity:1"
           id="path240" />
        <text
           xml:space="preserve"
           transform="translate(4177,929.5)"
           style="font-variant:normal;font-weight:normal;font-size:15px;font-family:'Courier New';-inkscape-font-specification:CourierNewPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text244"><tspan
             x="0 9 18 27 36 45 54 63 72 81 90 99 108 117 126 135 144 153 162 171 180 189 198 207 216 225"
             y="0"
             sodipodi:role="line"
             id="tspan242">extern struct FILE* STDIN;</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4177,963.5)"
           style="font-variant:normal;font-weight:normal;font-size:15px;font-family:'Courier New';-inkscape-font-specification:CourierNewPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text248"><tspan
             x="0 9 18 27 36 45 54 63 72 81 90 99 108 117 126"
             y="0"
             sodipodi:role="line"
             id="tspan246">int getchar() {</tspan></text>
        <text
           xml:space="preserve"
           transform="translate(4195,980.5)"
           style="font-variant:normal;font-weight:normal;font-size:15px;font-family:'Courier New';-inkscape-font-specification:CourierNewPSMT;writing-mode:lr-tb;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="text252"><tspan
             x="0 9 18 27 36 45 54 63 72 81 90 99 108 117 126 135 144 153 162 171 180"
             y="0"
             sodipodi:role="line"
             id="tspan250">return STDIN-&gt;read();</tspan></text>
      </g>
    </g>
  </g>
</svg>
